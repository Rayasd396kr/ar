<!DOCTYPE html>
<html>
<head>
    <title>AR.js A-Frame Location-based</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.1.0/dist/aframe-extras.min.js"></script>
    <style>
        .scene-container {
            position: fixed; 
            top: 0px;
            left: 0px;
            width: 100%; 
            height: 100%; 
            
        }
    </style>
</head>
<body>
    <div class="scene-container" id="scene-container">        
        <a-scene embedded mindar-image="uiScanning: #example-scanning-overlay;filterMinCF:0.0001; filterBeta: 0.001;imageTargetSrc: https://raw.githubusercontent.com/Rayasd396kr/ar/main/t4.mind;" color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
            <a-camera position="0 0 0" look-controls="enabled: true" cursor="fuse: false; rayOrigin: mouse;" raycaster="far: ${customFields.libVersion}; objects: .clickable"></a-camera>
            <a-entity id="bearEntity" mindar-image-target="targetIndex: 0">
                <a-text value="get!" color="black" align="center" position="0 -0.2 0"></a-text>
                <a-gltf-model rotation="0 0 0" position="0 -0.1 0" scale="1 1 1" src="https://raw.githubusercontent.com/Rayasd396kr/ar/main/card2.glb" animation="property: rotation; to: 0 360 0; loop: true; dur: 5000"></a-gltf-model>
            </a-entity>
            <a-entity id="raccoonEntity" mindar-image-target="targetIndex: 1">
                <a-text id="clickable" value="資訊樓" font="https://raw.githubusercontent.com/Rayasd396kr/ar/main/custom-msdf.json" negate="false" color="black" align="center" position="0 -0.6 0"></a-text>
                <a-gltf-model rotation="0 0 0" position="0 -0.1 0" scale="1 1 1" src="https://raw.githubusercontent.com/Rayasd396kr/ar/main/zcl.glb" animation-mixer></a-gltf-model>
                <a-box id="button-left" class="clickable" color="black" width="0.7" height="0.3" depth="0.2" position="0 -0.9 0"
                    onclick="window.top.location.href='https://project.rayasd396kr.workers.dev/floorselect';">
                    <a-text value="大樓介紹" font="https://raw.githubusercontent.com/Rayasd396kr/ar/main/floor-msdf.json" negate="false" align="center" color="white" position="0 0 0.1" scale="0.75 0.75 0.75"></a-text>
                </a-box>
            </a-entity>
            
        </a-scene>
    </div>
    <script>
        const exampleTarget = document.querySelector('#bearEntity');
        exampleTarget.addEventListener("targetFound", event => {
            console.log("target found");
            window.parent.localStorage.setItem('okStatus1', 'true');
        });

    </script>
</body>
</html>
